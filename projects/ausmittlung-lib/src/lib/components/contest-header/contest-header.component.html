<ng-container *ngIf="newZhFeaturesEnabled; else oldUi">
  <div class="info-container" *ngIf="!!contest">
      <bc-label [label]="'CONTEST.DETAIL.INFO.CONTEST' | translate"
                [class.col-span-2]="!!countingCircle"
                [class.col-span-3]="!countingCircle && !!state"
                [class.col-span-4]="!countingCircle && !state"></bc-label>
      <bc-label *ngIf="!!countingCircle" [label]="'CONTEST.DETAIL.INFO.COUNTING_CIRCLE' | translate" [class.col-span-2]="!state"></bc-label>
      <bc-label *ngIf="!!state" [label]="'APP.STATE' | translate"></bc-label>
      <span class="info-text">{{ contest.date | date:'dd.MM.yyyy' }}</span>
      <ng-container [ngSwitch]="contest.state">
        <bc-status-label *ngSwitchCase="states.CONTEST_STATE_TESTING_PHASE"
                         foregroundColor="dark"
                         backgroundColor="#c4e6c3"
                         [label]="('CONTEST.END_OF_TESTING_PHASE' | translate) + ' ' + (contest.endOfTestingPhase | date: 'short')">
        </bc-status-label>
        <ng-container *ngSwitchCase="states.CONTEST_STATE_PAST_LOCKED">
          <bc-status-label foregroundColor="dark"
                           backgroundColor="#fec6c3"
                           [label]="'CONTEST.PAST_LOCKED' | translate"></bc-status-label>
          <bc-button variant="tertiary"
                     [label]="'CONTEST.PAST_UNLOCK.OPEN' | translate"
                     (buttonClick)="openPastUnlockDialog()"></bc-button>
        </ng-container>
        <bc-status-label *ngSwitchCase="states.CONTEST_STATE_PAST_UNLOCKED"
                         foregroundColor="dark"
                         backgroundColor="#95d2a4"
                         [label]="'CONTEST.PAST_UNLOCKED' | translate"></bc-status-label>
      </ng-container>
      <span *ngIf="!!countingCircle" class="info-text">{{ countingCircle.name }}</span>
      <vo-ausm-result-state-box *ngIf="!!state" [state]="state" [newZhFeaturesEnabled]="newZhFeaturesEnabled"></vo-ausm-result-state-box>
  </div>
</ng-container>

<!-- TODO: can be removed if new UI is standard -->
<ng-template #oldUi>
  <div class="container" *ngIf="!!contest">
    {{'CONTEST.DETAIL.DATE_TITLE' | translate:{date: (contest.date | date: 'longDate') || ''} }}
    <ng-container [ngSwitch]="contest.state">
      <bc-status-label *ngSwitchCase="states.CONTEST_STATE_TESTING_PHASE"
                       foregroundColor="dark"
                       backgroundColor="#ffa000"
                       [label]="('CONTEST.END_OF_TESTING_PHASE' | translate) + ' ' + (contest.endOfTestingPhase | date: 'short')">
      </bc-status-label>
      <ng-container *ngSwitchCase="states.CONTEST_STATE_PAST_LOCKED">
        <bc-status-label foregroundColor="light"
                         backgroundColor="#c60000"
                         [label]="'CONTEST.PAST_LOCKED' | translate"></bc-status-label>
        <bc-button variant="tertiary"
                   [label]="'CONTEST.PAST_UNLOCK.OPEN' | translate"
                   (buttonClick)="openPastUnlockDialog()"></bc-button>
      </ng-container>
      <bc-status-label *ngSwitchCase="states.CONTEST_STATE_PAST_UNLOCKED"
                       foregroundColor="light"
                       backgroundColor="#1c9048"
                       [label]="'CONTEST.PAST_UNLOCKED' | translate"></bc-status-label>
    </ng-container>
  </div>
</ng-template>
