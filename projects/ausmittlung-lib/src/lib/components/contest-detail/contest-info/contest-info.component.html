<vo-ausm-info-panel>
  <vo-ausm-info-panel-entry label="CONTEST.DETAIL.INFO.CONTEST">
    {{'CONTEST.DETAIL.DATE_TITLE' | translate:{date: (resultList.contest.date | date: 'longDate') || ''} }}
  </vo-ausm-info-panel-entry>
  <vo-ausm-info-panel-entry label="CONTEST.DETAIL.INFO.COUNTING_CIRCLE">
    {{resultList.countingCircle.name}}
  </vo-ausm-info-panel-entry>
  <vo-ausm-info-panel-entry label="CONTEST.DETAIL.INFO.TOTAL_COUNT_OF_VOTERS">
    <span *ngIf="resultList.details.countOfVotersInformation.totalCountOfVoters; else noValue">
      {{resultList.details.countOfVotersInformation.totalCountOfVoters | number: '1.0-0'}}
    </span>
  </vo-ausm-info-panel-entry>
  <vo-ausm-info-panel-entry label="APP.STATE">
    <div class="state-container">
      <vo-ausm-result-state-box [state]="resultList.state"></vo-ausm-result-state-box>
      <vo-lib-inline-spinner [loading]="isActionExecuting" position="right">
        <!-- only show this button when at least one menu item is shown (via ngIf) -->
        <bc-button
          *ngIf="showSetAllAuditedTentatively
            || (showResetResultsInTestingPhase && !resultList.contest.testingPhaseEnded)
            || (!contentReadonly && !resultList?.contest.locked && isResponsibleErfassungElectionAdmin)"
          variant="tertiary"
          [label]="'CONTEST.DETAIL.STATE_ACTION.LABEL' | translate"
          [matMenuTriggerFor]="menu">
        </bc-button>
        <mat-menu #menu class="no-max-width">
          <button
            mat-menu-item
            *ngIf="showSetAllAuditedTentatively"
            [disabled]="!canSetAllToAuditedTentatively || isActionExecuting"
            (click)="setAllResponsibleAuditedTentatively()">
            {{ 'CONTEST.DETAIL.STATE_ACTION.ALL_TO_AUDIT_TENTATIVELY' | translate }}
          </button>
          <button
            mat-menu-item
            *ngIf="showResetResultsInTestingPhase && !resultList.contest.testingPhaseEnded"
            [disabled]="!canResetResultsInTestingPhase || isActionExecuting"
            (click)="resetResults()">
            {{ 'CONTEST.DETAIL.STATE_ACTION.RESET_RESULTS' | translate }}
          </button>
          <button
            mat-menu-item
            *ngIf="!contentReadonly && !resultList?.contest.locked && isResponsibleErfassungElectionAdmin"
            (click)="finishSubmission.emit()">
            {{ 'CONTEST.DETAIL.STATE_ACTION.SUBMIT_RESULTS' | translate }}
          </button>
        </mat-menu>
      </vo-lib-inline-spinner>
    </div>
  </vo-ausm-info-panel-entry>
</vo-ausm-info-panel>
<ng-template #noValue>
  <span>-</span>
</ng-template>
